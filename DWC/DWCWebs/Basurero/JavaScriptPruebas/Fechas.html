<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="divTitulo">GESTION DE DÍAS</div>
    <br />
    <div id="divNDiaSemana">
      <span>Día 1</span>
      <input type="date" id="txtDias1" />
      <input
        type="button"
        id="btnNDiaSemana"
        onclick="nombredia()"
        value="Nombre día"
      />
      <span id="spanNDia">:NDIASEMANA</span>
    </div>
    <br />

    <div id="divNDiaSemana">
      <span>Día 2</span>
      <input type="date" id="txtDias2" />
      <input
        type="button"
        id="btnNMes"
        onclick="nombremes()"
        value="Nombre mes"
      />
      <span id="spanNMes">:NMes</span>
    </div>
    <br />

    <div id="divDifDias">
      <input
        type="button"
        id="btnDifdias"
        onclick="diferenciadias()"
        value="Diferencia días"
      />
      <span id="spanDDiferencia">:DiasDiferencia</span>
    </div>
    <br />

    <div id="divBisiesto">
      <input
        type="button"
        id="btnBisiesto"
        onclick="bisiesto()"
        value="¿Fecha día 1 bisiesto?"
      />
      <span id="spanBisiesto">:SINO</span>
    </div>
    <br />

    <div id="divDiasFAno">
      <input
        type="button"
        id="btnDiasFAno"
        onclick="diasfano()"
        value="Días hasta fin de año"
      />
      <span id="spanDiasFAno">:DIAS</span>
    </div>
    <br />

    <div id="divDiasDespues">
      <input type="number" id="chkDiasDespues" />
      <input
        type="button"
        id="btnDiasDespues"
        onclick="diasdespues()"
        value="Días después de 1"
      />
      <span id="spanDiasDespues">:FECHA</span>
    </div>
    <br />

    <script language="JavaScript">
      function nombredia() {
        var fecha = document.getElementById("txtDias1").value;
        var resultado = DiaSemana(fecha);
        document.getElementById("spanNDia").innerHTML = resultado;
      }

      function nombremes() {
        var fecha = document.getElementById("txtDias2").value;
        var resultado = NombreMes(fecha);
        document.getElementById("spanNMes").innerHTML = resultado;
      }

      function diferenciadias() {
        var dia1 = document.getElementById("txtDias1").value;
        var dia2 = document.getElementById("txtDias2").value;

        var dif = DifDias(dia1, dia2);

        document.getElementById("spanDDiferencia").innerHTML = dif;
      }

      function bisiesto() {
        var fecha = document.getElementById("txtDias1").value;
        var resultado = esBisiesto(fecha);
        document.getElementById("spanBisiesto").innerHTML = resultado;
      }

      function diasfano() {
        var resultado = AFinDeAgno();
        document.getElementById("spanDiasFAno").innerHTML = resultado;
      }

      // Versión 1.3, Unai y Urko
      // Compara dos fechas y devuelve la diferencia en días entre ambas fechas
      function DifDias(sDia1, sDia2) {
        if (FechaValida(sDia1) && FechaValida(sDia2)) {
          var fDia1 = new Date(sDia1);
          var fDia2 = new Date(sDia2);

          // Calcular diferencia de días, comparando milisegundos y convirtiendo a días
          var iResult = (fDia2 - fDia1) / 1000 / 60 / 60 / 24;

          // Si el resultado es negativo, convertir a positivo
          iResult < 0 ? (iResult *= -1) : (iResult = iResult);

          return Math.floor(iResult);
        } else return "Error";
      }
    </script>
    <script
      language="JavaScript"
      src="http://185.60.40.210/2daw3/Fechas.js"
    ></script>
  </body>
</html>
