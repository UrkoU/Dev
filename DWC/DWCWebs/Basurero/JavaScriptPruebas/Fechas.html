<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <span>Dia 1</span>
    <input type="date" id="txtDias1" />
    <input
      type="button"
      id="btnNDia"
      onclick="nombredias()"
      value="Nombre día"
    />
    <span id="spanNDia">:NDIASEMANA</span>
    <br />

    <span>Dia 2</span>
    <input type="date" id="txtDias2" />
    <input
      type="button"
      id="btnNMes"
      onclick="nombremes()"
      value="Nombre mes"
    />
    <span id="spanNDia">:NDIASEMANA</span>
    <br />

    <input
      type="button"
      id="btnDifdias"
      onclick="funcion()"
      value="Diferencia días"
    />
    <span id="spanDDiferencia">:DiasDiferencia</span>

    <script language="JavaScript">
      function funcion() {
        var dia1 = document.getElementById("txtDias1").value;
        var dia2 = new Date(document.getElementById("txtDias2").value);

        var dif = DifDias("1000000", 2000000000);

        document.getElementById("spanDDiferencia").innerHTML = dif;
      }

      // Versión 1.2, Unai y Urko
      function DifDias(dia1, dia2) {
        try {
          var d2 = new Date(dia2);
          var d1 = new Date(dia1);

          // Calcular diferencia de días, comparando milisegundos y convirtiendo a días
          var result = (d2.getTime() - d1.getTime()) / 1000 / 60 / 60 / 24;

          if (isNaN(result)) return "Error";

          // Si el resultado es negativo, convertir a positivo
          result < 0 ? (result *= -1) : (result = result);

          return Math.floor(result);
        } catch (error) {
          // Comprobar errores
          return "Error";
        }
      }
    </script>
  </body>
</html>
