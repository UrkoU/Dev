{"mappings":"uDAEA,IAAIA,ECFJC,EAAeC,EDIf,IAAIC,EAAWC,KAAKC,MAAMC,UAC1BC,QAAQC,IAAIL,GA8BZ,IAoEEM,EApEEC,EAAMC,EAAAV,GAAEW,IAAI,OAAOC,QAAQ,CAAC,OAAO,MAAQ,IAC/CF,EAAAV,GAAEa,UAAU,qDAAsD,CAChEC,YAAa,4FACZC,MAAMN,GAETO,SAASC,eAAe,gBAAgBC,iBAAiB,SAAO,sHAlC9C,CAChB,CAAEC,KAAM,OAASC,MAAO,OAAQC,IAAK,YAAaC,KAAM,aACvD,CAACH,KAAM,WAAYC,MAAO,yBAA2BC,IAAK,YAAaC,KAAM,aAC7E,CAACH,KAAM,aAAeC,MAAO,aAAcC,IAAK,YAAaC,KAAM,aACnE,CAACH,KAAM,cAAeC,MAAO,cAAeC,IAAK,YAAaC,KAAM,aACrE,CAAEH,KAAM,OAAQC,MAAO,OAAQC,IAAK,YAAaC,KAAM,aACvD,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,SAAUC,MAAO,SAAUC,IAAK,YAAaC,KAAM,aAC3D,CAAEH,KAAM,WAAYC,MAAO,WAAYC,IAAK,YAAaC,KAAM,aAC/D,CAAEH,KAAM,QAASC,MAAO,QAASC,IAAK,YAAaC,KAAM,aACzD,CAAEH,KAAM,WAAYC,MAAO,WAAYC,IAAK,YAAaC,KAAM,aAC/D,CAAEH,KAAM,cAAeC,MAAO,cAAeC,IAAK,YAAaC,KAAM,aACrE,CAAEH,KAAM,WAAYC,MAAO,WAAYC,IAAK,YAAaC,KAAM,aAC/D,CAAEH,KAAM,SAAUC,MAAO,SAAUC,IAAK,YAAaC,KAAM,aAC3D,CAAEH,KAAM,YAAaC,MAAO,YAAaC,IAAK,YAAaC,KAAM,aACjE,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,QAASC,MAAO,QAASC,IAAK,YAAaC,KAAM,aACzD,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,OAAQC,MAAO,OAAQC,IAAK,YAAaC,KAAM,aACvD,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,WAAYC,MAAO,WAAYC,IAAK,YAAaC,KAAM,aAC/D,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,aAC7D,CAAEH,KAAM,OAAQC,MAAO,OAAQC,IAAK,YAAaC,KAAM,aACvD,CAAEH,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAaC,KAAM,cAcrDC,SAASC,IACjB,MAAMC,EAASf,EAAAV,GAAEyB,OAAO,CAACD,EAAQH,IAAKG,EAAQF,OAAOP,MAAMN,GAC3DgB,EAAOC,UAAS,GAAIF,EAAQL,QAAQQ,YACpCF,EAAOG,GAAG,SAAO,KAAQC,OAGDC,EAHkBN,EAAQJ,MAKhDrB,EAAI,sTAmDR,SAAC+B,GAGCtB,EAA6BN,EAAA6B,QAAAC,GAAAA,EAAAC,WAAAH,MAEUtB,EAAA0B,MAAA,CAAAC,EAAAC,IAAA,IAAAC,KAAAD,EAAAE,QAAAC,UAAA,IAAAF,KAAAF,EAAAG,QAAAC,aAvB1BT,sZAnCWA","sources":["scripts/main.js","L.js"],"sourcesContent":["import L from \"leaflet\";\r\n\r\nlet sTabla;\r\n\r\nlet aOfertas = JSON.parse(sOfertas);\r\nconsole.log(aOfertas);\r\nconst aCiudades = [\r\n  { name: \"Irún\", value: \"IRUN\", lat: \"43.338230\", long: \"-1.789270\" },\r\n  { name: \"Donostia\", value: \"DONOSTIA/SAN SEBASTIÁN\", lat: \"43.320900\", long: \"-1.984520\" },\r\n  { name: \"Errentería\", value: \"ERRENTERIA\", lat: \"43.311298\", long: \"-1.900890\" },\r\n  { name: \"Hondarribia\", value: \"HONDARRIBIA\", lat: \"43.362530\", long: \"-1.791500\" },\r\n  { name: \"Deba\", value: \"DEBA\", lat: \"43.295559\", long: \"-2.353890\" },\r\n  { name: \"Andoain\", value: \"ANDOAIN\", lat: \"43.220482\", long: \"-2.021120\" },\r\n  { name: \"Bilbao\", value: \"BILBAO\", lat: \"43.263012\", long: \"-2.934985\" },\r\n  { name: \"Elgoibar\", value: \"ELGOIBAR\", lat: \"43.215190\", long: \"-2.415700\" },\r\n  { name: \"Ermua\", value: \"ERMUA\", lat: \"43.186640\", long: \"-2.502610\" },\r\n  { name: \"Galdakao\", value: \"GALDAKAO\", lat: \"43.231468\", long: \"-2.840500\" },\r\n  { name: \"Portugalete\", value: \"PORTUGALETE\", lat: \"43.320690\", long: \"-3.020320\" },\r\n  { name: \"Ondarroa\", value: \"ONDARROA\", lat: \"43.320700\", long: \"-2.420480\" },\r\n  { name: \"Pasaia\", value: \"PASAIA\", lat: \"43.327480\", long: \"-1.919880\" },\r\n  { name: \"Santurtzi\", value: \"SANTURTZI\", lat: \"43.328160\", long: \"-3.031450\" },\r\n  { name: \"Legazpi\", value: \"LEGAZPI\", lat: \"43.054359\", long: \"-2.333640\" },\r\n  { name: \"Bergara\", value: \"BERGARA\", lat: \"43.118221\", long: \"-2.413360\" },\r\n  { name: \"Eibar\", value: \"EIBAR\", lat: \"43.184071\", long: \"-2.472820\" },\r\n  { name: \"Durango\", value: \"DURANGO\", lat: \"43.169070\", long: \"-2.632660\" },\r\n  { name: \"Hernani\", value: \"HERNANI\", lat: \"43.267550\", long: \"-1.975810\" },\r\n  { name: \"Lezo\", value: \"LEZO\", lat: \"43.321129\", long: \"-1.898770\" },\r\n  { name: \"Mutriku\", value: \"MUTRIKU\", lat: \"43.307070\", long: \"-2.385080\" },\r\n  { name: \"Oiartzun\", value: \"OIARTZUN\", lat: \"43.299280\", long: \"-1.857870\" },\r\n  { name: \"Mendaro\", value: \"MENDARO\", lat: \"43.250930\", long: \"-2.388180\" },\r\n  { name: \"Orio\", value: \"ORIO\", lat: \"43.278320\", long: \"-2.126600\" },\r\n  { name: \"Zarautz\", value: \"ZARAUTZ\", lat: \"43.280360\", long: \"-2.171590\" },\r\n];\r\n\r\n// Crear el mapa\r\nlet map = L.map(\"map\").setView([43.32, -1.98], 11);\r\nL.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n  attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n}).addTo(map);\r\n\r\ndocument.getElementById(\"btnUbicacion\").addEventListener(\"click\", () => {\r\n  CentrarUbicacion();\r\n});\r\n\r\n// Añadir ciudades con markers\r\naCiudades.forEach((element) => {\r\n  const marker = L.marker([element.lat, element.long]).addTo(map);\r\n  marker.bindPopup(`${element.name}`).openPopup();\r\n  marker.on(\"click\", () => CambiarInfoTabla(element.value));\r\n});\r\n\r\nfunction CambiarInfoTabla(selectedValue) {\r\n  // Cambiar la información de la tabla según el select\r\n  sTabla = `\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-2\">\r\n        Oferta\r\n      </div>\r\n      <div class=\"col-8\">\r\n        Descripción\r\n      </div>\r\n      <div class=\"col-1\">\r\n        Fecha de publicación\r\n      </div>\r\n      <div class=\"col-1\">\r\n        Link\r\n      </div>\r\n    </div>`;\r\n\r\n  CambiarOfertas(selectedValue);\r\n  AnadirInfoTabla();\r\n}\r\n\r\nlet aOfertasFiltradas;\r\n\r\nfunction CambiarOfertas(selectedValue) {\r\n  // Cambiar las ofertas filtradas po r municipio\r\n  aOfertasFiltradas = aOfertas.filter((oferta) => oferta.municipio == selectedValue);\r\n  // Ordenar las ofertas\r\n  aOfertasFiltradas = aOfertasFiltradas.sort((a, b) => new Date(b.fecPub).getTime() - new Date(a.fecPub).getTime());\r\n}\r\n\r\nfunction AnadirInfoTabla() {\r\n  // Añadir las ofertas en la tabla\r\n  aOfertasFiltradas.forEach((element) => {\r\n    sTabla += `    \r\n    <div class=\"row\">\r\n      <div class=\"col-2\">\r\n        ${element.desEmpleo}\r\n      </div>\r\n      <div class=\"col-8\">\r\n        ${element.desPuesto}\r\n      </div>\r\n      <div class=\"col-1\">\r\n        ${element.fecPub}\r\n      </div>\r\n      <div class=\"col-1\">\r\n        <a href=\"${element.url}\">Link</a>\r\n      </div>\r\n    </div>`;\r\n  });\r\n  sTabla += `</div>`;\r\n  document.getElementById(\"divTabla\").innerHTML = sTabla;\r\n}\r\n\r\nfunction CentrarUbicacion() {\r\n  // Pedir ubicación al usuario\r\n  navigator.geolocation.getCurrentPosition(function (position) {\r\n    map.setView([position.coords.latitude, position.coords.longitude], 13);\r\n  });\r\n}\r\n","module.exports=L;"],"names":["$dfce7f2a1c53e63f$var$sTabla","$66ba7a37141049c3$exports","L","$dfce7f2a1c53e63f$var$aOfertas","JSON","parse","sOfertas","console","log","$dfce7f2a1c53e63f$var$aOfertasFiltradas","$dfce7f2a1c53e63f$var$map","$parcel$interopDefault","map","setView","tileLayer","attribution","addTo","document","getElementById","addEventListener","name","value","lat","long","forEach","element","marker","bindPopup","openPopup","on","$dfce7f2a1c53e63f$var$CambiarInfoTabla","selectedValue","filter","oferta","municipio","sort","a","b","Date","fecPub","getTime"],"version":3,"file":"index.91fca297.js.map"}