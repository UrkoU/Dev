function o(o){return o&&o.__esModule?o.default:o}var a;let i,e=new(o(a=L).layerGroup);const r=o(a).icon({iconUrl:"../images/marker-selected.png",iconSize:[41,41]});function d(o,a){o.target.setIcon(a)}function n(o){return aGuardados.some((a=>a.codigoBaliza===o))}window.CargarMapa=function(){i=o(a).map("map").setView([42.983333333333,-2.6166666666667],8.4),o(a).tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i),aGuardados.length>0&&$("#map").hide()},window.CargarMarcadores=function(){i.removeLayer(e),e=new(o(a).LayerGroup),e.clearLayers(),aBalizas.forEach((i=>{let c;c=n(i.codigo)?r:iconoDefecto;const s=o(a).marker([i.latitud,i.longitud],{customId:`marcador${i.codigoBaliza}`,icon:c});s.bindPopup(`${i.nombre}`),s.on("click",(o=>{!function(o,a){if(aGuardados.length<iMaxGuardados&&!n(a.codigo))d(o,r),ObtenerTiempo(a.codigo),aGuardados.push({idUsuario:usuario.id,codigoBaliza:a.codigo,temperatura:!0,sensacionTermica:!0,humedad:!0,velocidadViento:!1,direccionViento:!1,horaAmanecer:!1,horaAtardecer:!1,presionAtmosferica:!1}),console.log("AÃ‘ADIR A MAPA "+aGuardados.length+"/"+iMaxGuardados),GuardarMarcadores(aGuardados);else if(n(a.codigo)){let i=aGuardados.findIndex((o=>o.codigoBaliza==a.codigo));aGuardados.splice(i,1),DeleteOpcionUsuario(usuario.id,a.codigo),GuardarMarcadores(aGuardados),$(`#div${a.codigo}`).remove(),d(o,iconoDefecto)}else MostrarError(limitError)}(o,i)})),e.addLayer(s)})),i.addLayer(e)},window.AnadirCarta=function(o){let a=ObtenerGuardadoPorId(o.codigo);$("#divContainer").append(`<div id="div${o.codigo}" class="infoTiempo mw-50 droppableItem"><p class="cardTitle" id="nombre${o.codigo}">${o.nombre}</p><img id="img${o.codigo}" class="cardImg" src="images/${o.descripcion.toLowerCase()}-white.png" ></div>`),$(`#div${o.codigo}`).on("click",(()=>{MostrarCartaGrande(o,a)})),$(`#div${o.codigo}`).hover((function(){$(this).css("cursor","pointer")})),$(`#div${o.codigo}`).append(`<div id="info${o.codigo}" ></div>`);for(const a in oPropiedadesCortas)if(!a.includes("Nombre"))if("horaAtardecer"==a||"horaAmanecer"==a){let i=new Date(1e3*parseInt(o[a]));$(`#info${o.codigo}`).append(`<div id="${a}${o.codigo}">${oPropiedadesCortas[a+"Nombre"]}\n          <span id="value${a}${o.codigo}">${i.customFormat("#hhhh#:#mm#")}</span>\n          ${oPropiedadesCortas[a]}</div>`)}else $(`#info${o.codigo}`).append(`<div id="${a}${o.codigo}">${oPropiedadesCortas[a+"Nombre"]}\n          <span id="value${a}${o.codigo}">${o[a]}</span>\n           ${oPropiedadesCortas[a]}</div>`);for(const o in a)a[o]||$(`#${o}${a.codigoBaliza}`).hide();CrearDroppables()},window.ActualizarCarta=function(o){for(const a in oPropiedadesCortas)oPropiedadesCortas[a].includes("Nombre")||$(`#value${oPropiedadesCortas[a]}${o.codigo}`).val(o[a])},window.aMarcadores=e;
//# sourceMappingURL=index.735cb299.js.map
