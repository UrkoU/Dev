{"mappings":"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","sources":["scripts/main.js"],"sourcesContent":["let aBalizas = [];\r\nlet oTiempo = {};\r\n\r\nlet sColorPrincipal = \"\";\r\n\r\nlet iconoDefecto;\r\n\r\n$(\"document\").ready(function () {\r\n  CargarColorInicial();\r\n  CargarBotonesColor();\r\n\r\n  ObtenerBalizas();\r\n});\r\n\r\nfunction ObtenerBalizas() {\r\n  var promise = GetBalizas();\r\n  promise.then(function (data) {\r\n    aBalizas = JSON.parse(data);\r\n    CargarMarcadores();\r\n  });\r\n}\r\n\r\nfunction ObtenerTiempo(id = \"C080\") {\r\n  var promise = GetTiempo(id);\r\n  promise.then(function (data) {\r\n    oTiempo = JSON.parse(data);\r\n    let oBaliza = aBalizas.find((element) => (element.codigo = id));\r\n    AnadirTiempo(oTiempo, oBaliza);\r\n  });\r\n}\r\n\r\n$(\"#mapTop\").click(() => {\r\n  $(\"#map\").toggle(\"fade\", 100);\r\n});\r\n\r\nlet tTimeout;\r\nfunction MostrarError(error = limitError) {\r\n  clearTimeout(tTimeout);\r\n  $(\"#divError\").text(error);\r\n  // Mostrar error, esperar 2 segundos, ocultar\r\n  $(\"#divError\").removeClass(\"hidden\");\r\n  tTimeout = setTimeout(() => {\r\n    $(\"#divError\").addClass(\"hidden\");\r\n  }, 2000);\r\n}\r\n\r\nfunction CargarColorInicial() {\r\n  // Carga el color inicial según el local storage\r\n  sColorPrincipal = localStorage.getItem(\"color\") || \"green\";\r\n  let sValor;\r\n  aColores.forEach((element) => {\r\n    if (element.nombre == sColorPrincipal) {\r\n      sValor = element.valor;\r\n    }\r\n  });\r\n\r\n  CambiarColor(sColorPrincipal, sValor, true);\r\n}\r\n\r\nfunction CambiarColor(sColor, sValor, bInicio = false) {\r\n  // Cambia el color predominante de la web, cambiando la variable --main-color del css\r\n  localStorage.setItem(\"color\", sColor);\r\n  document.documentElement.style.setProperty(\"--main-color\", sValor);\r\n  iconoDefecto = L.icon({\r\n    iconUrl: `../images/marker-${sColor}.png`,\r\n    iconSize: [41, 41],\r\n  });\r\n  if (!bInicio) CargarMarcadores();\r\n  // document.getElementsByTagName(\"body\")[0].style.backgroundImage = `url('imagenes/background-${sColor}.png')`;\r\n}\r\n\r\nfunction CargarBotonesColor() {\r\n  // Carga los botones de los colores != mainColor\r\n  let divBotones = document.getElementById(\"divButtonList\");\r\n\r\n  divBotones.innerHTML = \"\";\r\n\r\n  sColorPrincipal = localStorage.getItem(\"color\");\r\n  aColores.forEach((oColor) => {\r\n    // Si no es el color principal, añade el botón\r\n    divBotones.innerHTML += `<button class=\"color-button color-button-small\" style=\"background-color: ${oColor.valor}\" onclick=\"CambiarColor('${oColor.nombre}', '${oColor.valor}')\"></button>`;\r\n  });\r\n}\r\n\r\n// Gif de ajustes en hover\r\n$(\".settings\").hover(function () {\r\n  $(this).css(\"background\", \"url(../images/settings.gif)\");\r\n  $(this).css(\"background-repeat\", \"no-repeat\");\r\n  $(this).css(\"background-position\", \"center\");\r\n  $(this).css(\"background-size\", \"3.5em\");\r\n});\r\n\r\n$(\".settings\").mouseleave(function () {\r\n  $(this).css(\"background\", \"url(../images/settings-stopped.gif)\");\r\n  $(this).css(\"background-repeat\", \"no-repeat\");\r\n  $(this).css(\"background-position\", \"center\");\r\n  $(this).css(\"background-size\", \"3.5em\");\r\n});\r\n\r\n// Eventos botón flotante\r\n$(\"#show\").on(\"mouseover\", function () {\r\n  $(\"#divButtonList\").removeClass(\"hidden\");\r\n  $(\"#divButtonList\").css(\"display\", \"flex\");\r\n});\r\n$(\"#show\").on(\"mouseout\", function () {\r\n  $(\"#divButtonList\").addClass(\"hidden\");\r\n});\r\n"],"names":[],"version":3,"file":"index.bc1e96c0.js.map","sourceRoot":"/__parcel_source_root/"}