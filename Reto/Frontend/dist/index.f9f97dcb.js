let tTimeout,iconoDefecto,aBalizas=[],oTiempo={},sColorPrincipal="",sColorSecundario="",bLogueado="",aGuardados=new Set;function ObtenerBalizas(){GetBalizas().then((function(o){aBalizas=JSON.parse(o),CargarMarcadores(),CargarCartas(aGuardados)}))}function ObtenerTiempo(o="C080"){GetTiempo(o).then((function(r){oTiempo=JSON.parse(r);let e=aBalizas.find((r=>r.codigo==o));console.log("OBALIZA"+e),AnadirTiempo(oTiempo,e)}))}function MostrarLogin(){$("#divBlur").css("display","flex"),$("#divLoginContainer").css("display","flex"),$("#divLogin").css("display","flex")}function OcultarLogin(){$("#divBlur").css("display","none"),$("#divLoginContainer").css("display","none"),$("#divLogin").css("display","none")}function MostrarError(o=limitError){clearTimeout(tTimeout),$("#divError").text(o),$("#divError").removeClass("hidden"),tTimeout=setTimeout((()=>{$("#divError").addClass("hidden")}),2e3)}function CargarCartas(o){o.forEach((o=>{console.log(o),ObtenerTiempo(o)}))}function CargarColorInicial(){let o,r;aColores.forEach((e=>{e.nombre==sColorPrincipal&&(o=e.valor),e.nombre==sColorSecundario&&(r=e.valor)})),CambiarColorPrimario(sColorPrincipal,o,!0),CambiarColorSecundario(sColorSecundario,r)}function CambiarColorPrimario(o,r,e=!1){localStorage.setItem("sColorPrimario",o),document.documentElement.style.setProperty("--main-color",r),iconoDefecto=L.icon({iconUrl:`../images/marker-${o}.png`,iconSize:[41,41]}),e||CargarMarcadores()}function CambiarColorSecundario(o,r){localStorage.setItem("sColorSecundario",o),document.documentElement.style.setProperty("--secondary-color",r)}function CargarBotonesColor(){let o=document.getElementById("divColoresPrincipales"),r=document.getElementById("divColoresSecundarios");sColorPrincipal=localStorage.getItem("sColorPrimario"),sColorSecundario=localStorage.getItem("sColorSecundario"),aColores.forEach((e=>{o.innerHTML+=`<button class="color-button color-button-small" style="background-color: ${e.valor}" onclick="CambiarColorPrimario('${e.nombre}', '${e.valor}')"></button>`,r.innerHTML+=`<button class="color-button color-button-small" style="background-color: ${e.valor}" onclick="CambiarColorSecundario('${e.nombre}', '${e.valor}')"></button>`}))}$("document").ready((function(){CargarLocalStorage(),CargarColorInicial(),CargarBotonesColor(),1==bLogueado||"true"==bLogueado?(console.log("HERE"+bLogueado),CargarMapa(),ObtenerBalizas()):(console.log("Not logged"),MostrarLogin())})),$("#mapTop").click((()=>{$("#map").toggle("fade",100)})),$(".settings").hover((function(){$(this).css("background","url(../images/settings.gif)"),$(this).css("background-repeat","no-repeat"),$(this).css("background-position","center"),$(this).css("background-size","3.5em")})),$(".settings").mouseleave((function(){$(this).css("background","url(../images/settings-stopped.gif)"),$(this).css("background-repeat","no-repeat"),$(this).css("background-position","center"),$(this).css("background-size","3.5em")})),$("#show").on("mouseover",(function(){$("#colores").removeClass("hidden")})),$("#show").on("mouseout",(function(){$("#colores").addClass("hidden")}));
//# sourceMappingURL=index.f9f97dcb.js.map
